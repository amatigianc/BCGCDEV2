<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>CaseSummaryNeededBeforeClosing</fullName>
    <active>true</active>
    <description>Case Summary is needed before closing</description>
    <errorConditionFormula>AND(  

RecordType.DeveloperName = &#39;Technical_Support&#39;, /*Technical Support*/
ISBLANK( Case_Close_Summary__c),
OR(
ISPICKVAL(Status,&#39;Closed&#39;),
ISPICKVAL(Status, &#39;Closed - No Response&#39;),
ISPICKVAL(Status,&#39;Closed - First Response&#39;),
ISPICKVAL(Status,&#39;Closed - Unresolved&#39;)
),
OR(
$UserRole.Name = &quot;Technical Support Manager&quot;,
$UserRole.Name = &quot;Technical Support Rep&quot;
),
NOT($Permission.Bypass_Validation_Rule)

)</errorConditionFormula>
    <errorDisplayField>Case_Close_Summary__c</errorDisplayField>
    <errorMessage>Closed case summary is needed before closing the case</errorMessage>
</ValidationRule>
